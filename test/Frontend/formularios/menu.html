<!DOCTYPE html>
<html lang="es">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>Men煤 Parque de Atracciones</title>
	<link rel="stylesheet" href="../css/menu_moderno.css">
</head>
<body>
	<button onclick="cerrarSesion()" style="position:absolute;top:20px;right:30px;padding:8px 16px;background:#dc3545;color:#fff;border:none;border-radius:5px;cursor:pointer;">Cerrar Sesi贸n</button>
	<div class="user-info-box">
        <span class="user-icon"></span>
        <span id="nombreUsuario"></span>
        <span id="rolUsuario"></span>
    </div>
	<div class="menu-container">
		<h2>Men煤 Principal</h2>
		<ul class="menu-list">
			<li><a href="usuarios.html">Gesti贸n de Usuarios</a></li>
			<li><a href="terapeutas.html" onclick="alert('BIENVENIDO')">Gesti贸n de Terapeutas</a></li>
			<li><a href="pacientes.html" onclick="alert('Bienvenido a la Gesti贸n de Pacientes')">Gesti贸n de Pacientes</a></li>
			<li><a href="terapias.html" onclick="alert('Gesti贸n de Terapias')">Gesti贸n de Terapias</a></li>
			<li><a href="sesiones.html" onclick="alert('Gesti贸n de Sesiones')">Gesti贸n de Sesiones</a></li>
			<li><a href="pagos.html" onclick="alert('Generaci贸n de pagos')">Generaci贸n de pagos</a></li>
		    <li><a href="productos.html" onclick="alert('Generaci贸n de productos')">Generaci贸n de productos</a></li>

		</ul>
	</div>
	<script src="../js/menu.js"></script>
	<script>
	function cerrarSesion() {
		localStorage.clear();
		sessionStorage.clear();
		window.location.href = 'login.html';
	}
	// Mostrar nombre_usuario y rol si est谩n en localStorage
	document.addEventListener('DOMContentLoaded', function() {
		const nombre = localStorage.getItem('nombre_usuario');
		const rol = localStorage.getItem('rol');
		if (nombre) document.getElementById('nombreUsuario').textContent = 'Usuario: ' + nombre;
		if (rol) document.getElementById('rolUsuario').textContent = 'Rol: ' + rol;
	});
	</script>
	<script>
    function filtrarMenuPorRol() {
        const rol = localStorage.getItem('rol');
        const menuList = document.querySelector('.menu-list');
        const opciones = {
            'Supervisor': ['Gesti贸n de Pacientes', 'Gesti贸n de Sesiones'],
            'Desarrollador': ['Gesti贸n de Usuarios', 'Gesti贸n de Terapeutas', 'Gesti贸n de Pacientes', 'Gesti贸n de Terapias', 'Gesti贸n de Sesiones'],
            'Administrador': ['Gesti贸n de Usuarios', 'Gesti贸n de Terapeutas', 'Gesti贸n de Pacientes', 'Gesti贸n de Terapias', 'Gesti贸n de Sesiones', 'Generaci贸n de pagos', 'Generaci贸n de productos']
        };

        if (rol && opciones[rol]) {
            const elementosPermitidos = opciones[rol];
            Array.from(menuList.children).forEach(li => {
                const texto = li.textContent.trim();
                if (!elementosPermitidos.includes(texto)) {
                    li.style.display = 'none';
                }
            });
        }
    }

    document.addEventListener('DOMContentLoaded', function() {
        const nombre = localStorage.getItem('nombre_usuario');
        const rol = localStorage.getItem('rol');
        if (nombre) document.getElementById('nombreUsuario').textContent = 'Usuario: ' + nombre;
        if (rol) document.getElementById('rolUsuario').textContent = 'Rol: ' + rol;

        filtrarMenuPorRol();
    });
    </script>
</body>
</html>
